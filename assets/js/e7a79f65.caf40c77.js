"use strict";(self.webpackChunkaprendiendo_js=self.webpackChunkaprendiendo_js||[]).push([[7293],{3905:(e,n,r)=>{r.d(n,{Zo:()=>u,kt:()=>f});var t=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function i(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=t.createContext({}),s=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):d(d({},n),e)),r},u=function(e){var n=s(e.components);return t.createElement(l.Provider,{value:n},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=s(r),m=o,f=c["".concat(l,".").concat(m)]||c[m]||p[m]||a;return r?t.createElement(f,d(d({ref:n},u),{},{components:r})):t.createElement(f,d({ref:n},u))}));function f(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,d=new Array(a);d[0]=m;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[c]="string"==typeof e?e:o,d[1]=i;for(var s=2;s<a;s++)d[s]=r[s];return t.createElement.apply(null,d)}return t.createElement.apply(null,r)}m.displayName="MDXCreateElement"},8909:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>s});var t=r(7462),o=(r(7294),r(3905));const a={title:"Orden de ejecuci\xf3n",slug:"/order-execution",sidebar_position:7},d=void 0,i={unversionedId:"modulo06/midd-order",id:"modulo06/midd-order",title:"Orden de ejecuci\xf3n",description:"Los middlewares en Express son funciones que se ejecutan en el ciclo de vida de una solicitud HTTP. Es importante comprender el orden en que se ejecutan los middlewares, ya que puede afectar el comportamiento de nuestra aplicaci\xf3n.",source:"@site/docs/modulo06/midd-order.md",sourceDirName:"modulo06",slug:"/order-execution",permalink:"/backend-nodejs-mongodb/order-execution",draft:!1,editUrl:"https://github.com/ashel1806/backend-nodejs-mongodb/tree/main/docs/modulo06/midd-order.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Orden de ejecuci\xf3n",slug:"/order-execution",sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Middlewares a nivel de ruta",permalink:"/backend-nodejs-mongodb/route-level-middleware"},next:{title:"Modulo 07",permalink:"/backend-nodejs-mongodb/category/modulo-07"}},l={},s=[{value:"\xbfC\xf3mo se define el orden de ejecuci\xf3n de los middlewares?",id:"c\xf3mo-se-define-el-orden-de-ejecuci\xf3n-de-los-middlewares",level:2},{value:"Ejemlo de orden de ejecuci\xf3n",id:"ejemlo-de-orden-de-ejecuci\xf3n",level:2}],u={toc:s},c="wrapper";function p(e){let{components:n,...r}=e;return(0,o.kt)(c,(0,t.Z)({},u,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Los middlewares en Express son funciones que se ejecutan en el ciclo de vida de una solicitud HTTP. Es importante comprender el orden en que se ejecutan los middlewares, ya que puede afectar el comportamiento de nuestra aplicaci\xf3n."),(0,o.kt)("p",null,"El orden de ejecuci\xf3n de los middlewares es importante porque determina c\xf3mo se manejan las solicitudes HTTP. Por ejemplo, si tenemos un middleware de autenticaci\xf3n que se ejecuta despu\xe9s de un middleware de enrutamiento, puede permitir que un usuario no autenticado acceda a una ruta que requiere autenticaci\xf3n."),(0,o.kt)("h2",{id:"c\xf3mo-se-define-el-orden-de-ejecuci\xf3n-de-los-middlewares"},"\xbfC\xf3mo se define el orden de ejecuci\xf3n de los middlewares?"),(0,o.kt)("p",null,"El orden de ejecuci\xf3n de los middlewares en Express se define por el orden en que se llaman las funciones ",(0,o.kt)("inlineCode",{parentName:"p"},"next()")," dentro de los middlewares. Si una funci\xf3n ",(0,o.kt)("inlineCode",{parentName:"p"},"next()")," se llama antes de que se complete una tarea, se pasar\xe1 el control al siguiente middleware en la cadena."),(0,o.kt)("p",null,"Por lo tanto, es importante asegurarse de que el orden de los middlewares sea el correcto para que se ejecuten en el orden correcto."),(0,o.kt)("h2",{id:"ejemlo-de-orden-de-ejecuci\xf3n"},"Ejemlo de orden de ejecuci\xf3n"),(0,o.kt)("p",null,"Un ejemplo com\xfan de orden de ejecuci\xf3n de middlewares es el siguiente:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"app.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(logger('dev'));\n\napp.use('/users', usersRouter);\napp.use('/products', productsRouter);\n\napp.use(errorHandler);\n")),(0,o.kt)("p",null,"En este ejemplo, primero se utilizan los middlewares ",(0,o.kt)("inlineCode",{parentName:"p"},"express.json()")," y ",(0,o.kt)("inlineCode",{parentName:"p"},"express.urlencoded()"),", que se encargan de analizar la solicitud HTTP entrante y pasarla al siguiente middleware."),(0,o.kt)("p",null,"Luego, se utiliza ",(0,o.kt)("inlineCode",{parentName:"p"},"cookieParser()")," para analizar las cookies y ",(0,o.kt)("inlineCode",{parentName:"p"},"logger('dev')")," para registrar informaci\xf3n de depuraci\xf3n en la consola."),(0,o.kt)("p",null,"Despu\xe9s de eso, se definen las rutas ",(0,o.kt)("inlineCode",{parentName:"p"},"/users")," y ",(0,o.kt)("inlineCode",{parentName:"p"},"/products"),", que se manejan por los enrutadores usersRouter y productsRouter."),(0,o.kt)("p",null,"Por \xfaltimo, se utiliza el middleware ",(0,o.kt)("inlineCode",{parentName:"p"},"errorHandler"),", que maneja errores de la aplicaci\xf3n. Es importante que este middleware se defina al final de la cadena, ya que manejar\xe1 cualquier error que se produzca en cualquiera de los middlewares anteriores."))}p.isMDXComponent=!0}}]);